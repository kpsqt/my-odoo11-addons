<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="project_task_form_dev" model="ir.ui.view">
            <field name="name">project.task.form.dev</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.view_task_form2"/>
            <field name="arch" type="xml">

                <field name="user_id" position="attributes">
                    <attribute name="groups">project.group_project_manager</attribute>
                </field>

                <field name="project_id" position="attributes">
                    <attribute name="groups">project.group_project_manager</attribute>
                </field>

                <field name="project_id" position="after">
                    <field name="module_id" groups="project.group_project_manager" options="{'no_create':True}"
                           domain="[('active','=',True)]"/>
                    <widget attrs="{'invisible':[('module_id','=',False)]}" name="module_revision_marker"/>
                    <field name="type"/>
                    <!--<field name="installable"/>-->
                    <field name="downloaded"/>
                    <field name="current_downloaded_rev" attrs="{'invisible':[('downloaded','!=',True)]}"/>
                    <field name="technical_name" invisible="1"/>
                    <field name="transferable" invisible="1"/>
                    <field name="reversible" invisible="1"/>
                    <field name="ready_for_deployment" invisible="1"/>
                </field>
                <xpath expr="//header/button[@name='action_assign_to_me']" position="after">
                    <button name="action_assign_to_project" type="object" class="oe_highlight" string="Assign to project" attrs="{'invisible':['|',('type','!=','feedback'),('project_id','!=',False)]}"/>
                </xpath>
                <xpath expr="//div[@name='button_box']" position="inside">
                    <button name="action_transfer_module" type="object" groups="base.group_user"
                            class="oe_stat_button" icon="fa-download"
                            attrs="{'invisible':[('module_id','=',False)]}"
                            help="Download the module in users personal directory">
                        <span>Download</span>
                    </button>

                    <!--<button name="action_revert_module" type="object" groups="base.group_user"
                            class="oe_stat_button" icon="fa-level-down"
                            attrs="{'invisible':[('reversible','!=',True)]}"
                            help="Revert a module to a previous revision; The user can select the revision and the stage to move the task to. The stage will be upgraded to the stage selected by the user">
                        <span>Revert module</span>
                    </button>-->
                    <!--<button class="oe_stat_button" type="object" name="action_task_issues" icon="fa-bug">
                        <field string="Issues" name="issue_count" widget="statinfo"/>
                    </button>-->
                    <!--<button class="oe_stat_button" type="object" name="action_run_cmd" icon="fa-code">
                        <span>CMD</span>
                    </button>-->
                    <!--<button class="oe_stat_button" type="object" name="action_check_dependencies" icon="fa-check">
                        <span>Check dependences</span>
                    </button>-->
                    <!--<button class="oe_stat_button" type="object" attrs="{'invisible':[('installable','=',True)]}" name="action_install_dependencies" icon="fa-download">
                        <span>Install dependences</span>
                    </button>-->
                    <button groups="c1_project_dev.ct_group_project_mamanger,c1_project_dev.ct_group_testers,project.group_project_manager"
                            class="oe_stat_button" type="object" name="action_manage_database" icon="fa-database">
                        <span>Manage database</span>
                    </button>
                    <!--<button class="oe_stat_button" type="object"
                            attrs="{'invisible':['|',('transferable','!=',True),('installable','!=',True)]}"
                            name="action_install_module" icon="fa-download">
                        <span>Install module</span>
                    </button>-->
                    <button groups="project.group_project_manager,c1_project_dev.ct_group_testers" class="oe_stat_button" type="object" attrs="{'invisible':[('module_id','=',False)]}"
                            name="action_mark_module_revision" icon="fa-download">
                        <span>Mark revision</span>
                    </button>
                    <button groups="project.group_project_manager,c1_project_dev.group_module_deployer" class="oe_stat_button" type="object" attrs="{'invisible':['|',('module_id','=',False),('ready_for_deployment','=',False)]}"
                            name="action_deploy_module" icon="fa-upload">
                        <span>Deploy</span>
                    </button>
                </xpath>

                <xpath expr="//field[@name='tag_ids']" position="after">
                    <!--<widget attrs="{'invisible':[('module_id','=',False)]}" type="module_revision_marker"/>-->
                </xpath>

                <xpath expr="//group/group[last()]" position="after">
                    <group attrs="{'invisible':[('id','=',False)]}" string="Stage management" groups="project.group_project_manager">
                        <field nolabel="1" name="stage_responsibles">
                            <tree editable="buttom" create="0" delete="0">
                                <field name="users" options="{'no_create':True}" widget="many2many_tags"/>
                                <field name="stage_id" readonly="1"/>
                            </tree>
                        </field>
                    </group>
                </xpath>


                <field name="user_id" position="after">
                    <field name="task_user_ids" groups="project.group_project_manager,base.group_system"
                           widget="many2many_tags" options="{'no_create_edit': True}"/>
                </field>

                <xpath expr="//page[@name='description_page']" position="attributes">
                    <attribute name="attrs">
                        {'readonly':[('stage_id','!=',%(c1_project_dev.specification)d)]}
                    </attribute>
                    <attribute name="string">
                        Specifications
                    </attribute>
                </xpath>

                <xpath expr="//page[@name='description_page']" position="before">
                    <!--<page string="Analysis" attrs="{'invisible':[('stage_id','!=',%(c1_project_dev.analysis)d)]}">-->
                    <!--<field name="analysis_description" type="html"/>-->
                    <!--</page>-->

                    <page string="Requirement" attrs="{'readonly':[('stage_id','!=',%(c1_project_dev.analysis)d)]}">
                        <field name="analysis_description" type="html"/>
                    </page>
                </xpath>

                <xpath expr="//page[@name='description_page']" position="after">
                    <!--<page string="Development" attrs="{'invisible':[('stage_id','!=',%(c1_project_dev.development)d)]}">-->
                    <page string="Development" attrs="{'readonly':[('stage_id','!=',%(c1_project_dev.development)d)]}">
                        <!--<field name="stage_responsibles" domain="[('stage_id','=',%(c1_project_dev.development)d)]" attrs="{'invisible':[('stage_id','!=',%(c1_project_dev.development)d)]}" context="{'default_stage_id':%(c1_project_dev.development)d}">
                            <tree editable="buttom" create="0" delete="0">
                                <field name="users" options="{'no_create':True}" widget="many2many_tags"/>
                                <field name="stage_id" readonly="1" />
                            </tree>
                        </field>-->
                        <field name="development_description" type="html"/>
                    </page>

                    <!--<page string="Test Requirement" attrs="{'invisible':[('stage_id','!=',%(c1_project_dev.test)d)]}">-->
                    <page string="Test Requirement" attrs="{'readonly':[('stage_id','!=',%(c1_project_dev.test)d)]}">
                        <!--<field name="stage_responsibles" domain="[('stage_id','=',%(c1_project_dev.test)d)]" attrs="{'invisible':[('stage_id','!=',%(c1_project_dev.test)d)]}" context="{'default_stage_id':%(c1_project_dev.test)d}">
                            <tree editable="buttom" create="0">
                                <field name="users" widget="many2many_tags"/>
                                <field name="stage_id" />
                            </tree>
                        </field>-->
                        <h2>Unit Test</h2>
                        <newline/>
                        <field name="testreq_ids">
                            <tree editable="bottom" default_order="sequence">
                                <field name="sequence"/>
                                <field name="description"/>
                                <field name="exe_step"/>
                                <field name="expect_result"/>
                                <field name="dev_user_id"/>
                                <field name="dev_finish_date"/>
                            </tree>
                        </field>
                        <h2>Test Case</h2>
                        <newline/>
                        <field name="testcase_ids">
                            <p></p>
                            <tree editable="bottom" default_order="sequence">
                                <field name="sequence"/>
                                <field name="test_step"/>
                                <field name="test_input"/>
                                <field name="expect_result"/>
                                <field name="result"/>
                                <field name="test_user_id"/>
                                <field name="test_finish_date"/>
                                <field name="note"/>
                            </tree>
                        </field>
                    </page>

                    <!--<page string="Deployment" attrs="{'invisible':[('stage_id','!=',%(c1_project_dev.deployment)d)]}">-->
                    <page string="Deployment" attrs="{'readonly':[('stage_id','!=',%(c1_project_dev.deployment)d)]}">
                        <!--<field name="stage_responsibles" domain="[('stage_id','!=',%(c1_project_dev.deployment)d)]" attrs="{'invisible':[('stage_id','!=',%(c1_project_dev.deployment)d)]}" context="{'default_stage_id':%(c1_project_dev.deployment)d}" />-->
                        <field name="deployment_description" type="html"/>
                    </page>

                    <!--<page name="transfer_details" string="Transfer details" attrs="{'invisible':[('stage_id','!=',%(c1_project_dev.test)d)]}">-->
                    <page name="transfer_details" string="Transfer details"
                          attrs="{'readonly':[('stage_id','!=',%(c1_project_dev.test)d)]}">
                        <field name="transfer_ids" nolabel="1">
                            <tree>
                                <field name="user_id"/>
                                <field name="operation_type"/>
                                <field name="date"/>
                                <field name="revision"/>
                                <field name="log_date"/>
                                <field name="message"/>
                                <field name="author"/>
                                <field name="author_user"/>
                                <field name="tag"/>
                            </tree>
                        </field>
                    </page>
                </xpath>
                <!--<xpath expr="//page[last()]" position="after">-->
                <!--<page name="admin_page" string="Administration">-->
                <!--<field name="stage_responsibles">-->
                <!--<tree editable="buttom" delete="0" create="0">-->
                <!--<field name="users" options="{'no_create':True}" widget="many2many_tags"/>-->
                <!--<field name="stage_id" readonly="1" />-->
                <!--</tree>-->
                <!--</field>-->
                <!--</page>-->
                <!--</xpath>-->

                <!--<notebook position="inside">
                    <page string="Cancellation" attrs="{'invisible':[('stage_id','!=',%(c1_project_dev.canceled)d)]}">
                    <page string="Cancellation">
                        <field name="cancellation_description" type="html"/>
                    </page>
                </notebook>-->

            </field>
        </record>


        <!-- Task kanban -->
        <record id="project_task_kanban_dev" model="ir.ui.view">
            <field name="name">c1_project_dev.task.inherited_kanban.dev</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.view_task_kanban"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='legend_done']" position="after">
                    <field name="transferable"/>
                    <field name="reversible"/>
                    <field name="technical_name"/>
                    <field name="module_id"/>
                </xpath>
                <xpath expr="//div[@class='oe_clear']" position="after">
                    <!--<div class="o_kanban_button">-->
                    <a class="badge btn-primary"
                       invisible="context.get('from_ui',False)!=True"
                       attrs="{'invisible':[('module_id','=',False)]}"
                       type="object" name="action_transfer_module"
                       string="Download">
                        <i class="fa fa-fw fa-download"/>
                    </a>
                    <!--<t t-if="record.reversible.raw_value">
                        <button icon="fa-level-down" invisible="context.get('from_ui',False)!=True" data-type="object" context="{'name':technical_name}" class="oe_kanban_action btn btn-sm btn-danger" data-name="action_revert_module">
                            Revert
                        </button>
                    </t>-->
                    <!--</div>-->
                </xpath>
            </field>
        </record>

        <!-- repositoty form -->
        <record model="ir.ui.view" id="repository_form_view">
            <field name="name">c1_project_dev.repository.form_view</field>
            <field name="model">c1_project_dev.repository</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_button_box">
                            <button class="oe_stat_button" type="object" icon="fa-git" name="action_clone" string="Clone" attrs="{'invisible':[('repository_type','!=','git')]}"/>
                        </div>
                        <h1>
                            <field name="name"/>
                        </h1>
                        <group>
                            <group string="General info">
                                <field name="repository_type"/>
                                <field name="url"/>
                                <field name="system_path"/>
                            </group>
                            <group string="Public access credentials">
                                <field name="username"/>
                                <field name="passwd" password="1"/>
                            </group>
                        </group>
                        <group>
                            <group attrs="{'invisible':[('repository_type','!=','svn')]}">
                                <field name="physical_path"/>
                                <!--<field name="groupsfile_path"/>
                                <field name="authfile_path"/>-->
                            </group>
                        </group>
                        <notebook>
                            <page name="description" string="Description">
                                <field nolabel="1" name="description"/>
                            </page>
                            <page name="modules" string="Modules">
                                <!--<field name="module_ids">
                                    <tree create="0">
                                        <field name="name"/>
                                        <field name="technical_name"/>
                                        <field name="description"/>
                                    </tree>
                                </field>-->
                                <p></p>
                                <!--<field name="module_ids" widget="many2many_tags"/>-->
                                <field name="module_ids">
                                    <tree>
                                        <field name="name"/>
                                        <field name="technical_name"/>
                                        <!--<field name="description"/>-->
                                        <field name="python_dependencies"/>
                                        <field name="module_dependencies"/>
                                    </tree>
                                </field>
                            </page>
                            <!--<page string="Groups" attrs="{'invisible':[('repository_type','!=','svn')]}">
                                <field name="groups_info"/>
                            </page>-->
                            <page string="Users">
                                <field name="account_ids">
                                    <tree>
                                        <field name="svn_account"/>
                                        <field name="user_id"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- repositoty tree -->
        <record model="ir.ui.view" id="repository_tree_view">
            <field name="name">c1_project_dev.repository.form_view</field>
            <field name="model">c1_project_dev.repository</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="url"/>
                    <field name="description"/>
                </tree>
            </field>
        </record>

        <!-- module form -->
        <record model="ir.ui.view" id="module_form_view">
            <field name="name">c1_project_dev.module.form_view</field>
            <field name="model">c1_project_dev.module</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <h1>
                            <field name="name" placeholder="Module name"/>
                        </h1>
                        <div class="oe_button_box">
                            <button class="oe_stat_button" attrs="{'invisible':[('installable','=',True)]}"
                                    type="object" name="install_dependencies" icon="fa-download">
                                <span>Install dependencies</span>
                            </button>
                        </div>
                        <group>
                            <field name="active"/>
                            <field name="technical_name"/>
                            <field name="repository_id" options="{'no_create':True}"/>
                            <field name="python_dependencies"/>
                            <field name="module_dependencies"/>
                            <field name="installable"/>
                        </group>
                        <notebook>
                            <page string="Description">
                                <field name="description" nolabel="1"/>
                            </page>
                            <page string="Revision remarks">
                                <field name="revision_mark_ids" nolabel="1">
                                    <tree editable="top">
                                        <field name="user_id"/>
                                        <field name="revision"/>
                                        <field name="judgement"/>
                                        <field name="description"/>
                                        <field name="date"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- module tree -->
        <record model="ir.ui.view" id="module_tree_view">
            <field name="name">c1_project_dev.module.tree_view</field>
            <field name="model">c1_project_dev.module</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="technical_name"/>
                    <!--<field name="description"/>-->
                    <field name="python_dependencies"/>
                    <field name="module_dependencies"/>
                    <field name="active"/>
                </tree>
            </field>
        </record>

        <!-- command form -->
        <record model="ir.ui.view" id="command_form_view">
            <field name="name">c1_project_dev.command.form_view</field>
            <field name="model">c1_project_dev.command</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <h1>
                            <field name="name" placeholder="Command name"/>
                        </h1>
                        <h2>
                            <field name="command"/>
                        </h2>
                        <group>
                            <field name="cmd"/>
                            <field name="default_parameter"/>
                            <field name="suffix_cmd" options="{'no_create':True}"/>
                            <field name="type"/>
                            <field name="in_docker"/>
                            <field name="description"/>
                            <field name="groups" widget="many2many_tags"/>
                            <field name="active"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- docker container form -->
        <record model="ir.ui.view" id="docker_container_form_view">
            <field name="name">c1_project_dev.docker.container.form_view</field>
            <field name="model">c1_project_dev.docker.container</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_button_box">
                            <button class="oe_stat_button" states="exited" type="object" name="action_start"
                                    icon="fa-play">
                                <span>Start</span>
                            </button>
                            <button class="oe_stat_button" states="running,restarting" type="object" name="action_stop"
                                    icon="fa-stop">
                                <span>Stop</span>
                            </button>
                            <button class="oe_stat_button" states="exited,running" type="object" name="action_restart"
                                    icon="fa-refresh">
                                <span>Restart</span>
                            </button>
                        </div>
                        <div class="oe_title">
                            <h1>
                                <field name="name" placeholder="Container name"/>
                            </h1>
                        </div>
                        <h2>
                            <field name="containerid" placeholder="Container short id"/>
                        </h2>
                        <group>
                            <field name="image"/>
                            <field name="state"/>
                            <field name="ports_info"/>
                            <field name="user_id"/>
                        </group>
                        <group>
                            <field name="docker_db_suffix" placeholder="e.g.: user.qitong.info"/>
                            <field name="directory"/>
                            <field name="addons_path"/>
                            <field name="log_path"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <!-- command tree -->
        <record model="ir.ui.view" id="command_tree_view">
            <field name="name">c1_project_dev.command.tree_view</field>
            <field name="model">c1_project_dev.command</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="cmd"/>
                    <field name="default_parameter"/>
                    <field name="suffix_cmd"/>
                    <field name="command"/>
                    <field name="description"/>
                    <field name="groups"/>
                    <field name="active"/>
                </tree>
            </field>
        </record>

        <!-- docker container tree -->
        <record model="ir.ui.view" id="docker_container_tree_view">
            <field name="name">c1_project_dev.docker.container.tree_view</field>
            <field name="model">c1_project_dev.docker.container</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <!--<field name="containerid"/>-->
                    <field name="image"/>
                    <field name="state"/>
                    <field name="ports_info"/>
                </tree>
            </field>
        </record>

        <!-- svn account form -->
        <record model="ir.ui.view" id="svn_account_form_view">
            <field name="name">c1_project_dev.svn_account.form_view</field>
            <field name="model">c1_project_dev.svn_account</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <h1>
                            <field name="svn_account" placeholder="Svn account username"/>
                        </h1>
                        <h2></h2>
                        <group>
                            <field name="svn_password" password="1"/>
                            <field name="user_id" placeholder="Owner"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- svn account tree -->
        <record model="ir.ui.view" id="svn_account_tree_view">
            <field name="name">c1_project_dev.svn_account.tree_view</field>
            <field name="model">c1_project_dev.svn_account</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="svn_account"/>
                    <field name="user_id"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="module_info_search_view">
            <field name="name">c1_project_dev.module.info.search_view</field>
            <field name="model">c1_project_dev.module.info</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <field name="shortdesc"/>
                    <separator/>
                    <filter name="installed" string="Installed modules" domain="[('state','=','installed')]"/>
                    <filter name="uninstalled" string="Uninstalled modules" domain="[('state','=','uninstalled')]"/>
                    <separator/>
                    <group string="Group by">
                        <filter name="group_by_state" string="State" context="{'group_by':'state'}"/>
                    </group>
                </search>
            </field>
        </record>


        <record model="ir.ui.view" id="dtabase_module_info_tree">
            <field name="name">c1_project_dev.module.info.form_view</field>
            <field name="model">c1_project_dev.module.info</field>
            <field name="arch" type="xml">
                <tree decoration-danger="current_rev&lt;onserver_rev">
                    <!--<tree decoration-danger="onserver_rev">-->
                    <field name="name"/>
                    <field name="shortdesc"/>
                    <field name="state"/>
                    <field name="current_rev"/>
                    <field name="onserver_rev"/>
                    <button name="button_install" confirm="Do you really want to install this addon?"
                            class="oe_highlight" context="{'from_tree_view':True}" string="Install" type="object"
                            icon="fa-download" states="uninstalled,to_install,to_uninstall"/>
                    <button name="button_upgrade" confirm="Do you really want to upgrade this addon?"
                            class="oe_highlight" context="{'from_tree_view':True}" string="Upgrade" type="object"
                            icon="fa-refresh" states="installed,to_upgrade"/>
                    <button name="button_uninstall" confirm="Do you really want to uninstall this addon?"
                            class="oe_highlight" context="{'from_tree_view':True}" string="Uninstall" type="object"
                            icon="fa-close" states="installed,to_uninstall"/>
                    <button name="button_cancel_install"
                            confirm="Do you really want to cancel the installation of this addon?" class="oe_highlight"
                            context="{'from_tree_view':True}" string="Cancel install" type="object" icon="fa-close"
                            states="to_install"/>
                    <button name="button_cancel_upgrade"
                            confirm="Do you really want to cancel the upgrade of this addon?" class="oe_highlight"
                            context="{'from_tree_view':True}" string="Cancel upgrade" type="object" icon="fa-close"
                            states="to_upgrade"/>
                    <button name="button_cancel_uninstall"
                            confirm="Do you really want to cancel the uninstalling of this addon?" class="oe_highlight"
                            context="{'from_tree_view':True}" string="Cancel uninstall" type="object" icon="fa-close"
                            states="to_uninstall"/>
                </tree>
            </field>
        </record>

        <!-- database form -->
        <record model="ir.ui.view" id="dtabase_form_view">
            <field name="name">c1_project_dev.userdb.info.form_view</field>
            <field name="model">c1_project_dev.userdb.info</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_button_box">
                            <button class="oe_stat_button" type="object" context="{'refresh_ui':True}"
                                    name="get_db_info" icon="fa-info">
                                <span>Get info</span>
                            </button>
                            <button class="oe_stat_button" type="object" name="button_goto" icon="fa-sign-in">
                                <span>Go to</span>
                            </button>
                            <button class="oe_stat_button" attrs="{'invisible':[('is_local','=',False)]}" type="object"
                                    name="button_backup" icon="fa-save">
                                <span>Backup</span>
                            </button>
                        </div>
                        <group>
                            <field name="id" invisible="1"/>
                            <field name="is_local" invisible="1"/>
                            <field name="name"/>
                            <field name="login"/>
                            <field name="passwd" password="1"/>
                            <field name="user_id" options="{'no_create':True}"/>
                            <field name="user_ids" widget="many2many_tags" options="{'no_create':True}"/>
                        </group>
                        <notebook>
                            <page string="Installed module">
                                <!--<div>
                                    <button class="oe_stat_button" type="object" name="button_filter" icon="fa-search">
                                        <span>Filter</span>
                                    </button>
                                </div>-->
                                <separator string="Module search"/>
                                <widget name="remote_db_module_filter" model="ct_project_dev.module.info"
                                        options="{'inverse_field':'database_id'}"/>
                                <!--<div>
                                    <field domain="[('database_id','=',context.get('active_id'))]"
                                           name="module_search_id" class="oe_inline" options="{'no_create':True}"/>
                                    <field attrs="{'invisible':[('module_search_id','=','False')]}" readonly="1"
                                           name="module_search_state" class="oe_inline"/>
                                    <div class="oe_button_box">
                                        <button style="margin-left:5px;" name="button_install"
                                                confirm="Do you really want to install this addon?" class="oe_highlight"
                                                context="{'from_tree_view':True}" string="Install" type="object"
                                                icon="fa-download"
                                                attrs="{'invisible':[('module_search_state','not in',['uninstalled','to_install','to_uninstall'])]}"/>
                                        <button style="margin-left:5px;" name="button_upgrade"
                                                confirm="Do you really want to upgrade this addon?" class="oe_highlight"
                                                context="{'from_tree_view':True}" string="Upgrade" type="object"
                                                icon="fa-refresh"
                                                attrs="{'invisible':[('module_search_state','not in',['installed','to_upgrade'])]}"/>
                                        <button style="margin-left:5px;" name="button_uninstall"
                                                confirm="Do you really want to uninstall this addon?"
                                                class="oe_highlight" context="{'from_tree_view':True}"
                                                string="Uninstall" type="object" icon="fa-close"
                                                attrs="{'invisible':[('module_search_state','not in',['installed','to_uninstall'])]}"/>
                                        <button style="margin-left:5px;" name="button_cancel_install"
                                                confirm="Do you really want to cancel the installation of this addon?"
                                                class="oe_highlight" context="{'from_tree_view':True}"
                                                string="Cancel install" type="object" icon="fa-close"
                                                attrs="{'invisible':[('module_search_state','not in',['to_install'])]}"/>
                                        <button style="margin-left:5px;" name="button_cancel_upgrade"
                                                confirm="Do you really want to cancel the upgrade of this addon?"
                                                class="oe_highlight" context="{'from_tree_view':True}"
                                                string="Cancel upgrade" type="object" icon="fa-close"
                                                attrs="{'invisible':[('module_search_state','not in',['to_upgrade'])]}"/>
                                        <button style="margin-left:5px;" name="button_cancel_uninstall"
                                                confirm="Do you really want to cancel the uninstalling of this addon?"
                                                class="oe_highlight" context="{'from_tree_view':True}"
                                                string="Cancel uninstall" type="object" icon="fa-close"
                                                attrs="{'invisible':[('module_search_state','not in',['to_uninstall'])]}"/>
                                    </div>
                                </div>-->

                                <field nolabel="1" name="installed_modules"
                                       context="{'search_view_ref':'c1_project_dev.module_info_search_view', 'search_view_id':%(c1_project_dev.module_info_search_view)d, 'group_by':'state'}"
                                       mode="tree,kanban">
                                    <tree toolbar="1" decoration-danger="current_rev&lt;onserver_rev">
                                        <field name="name"/>
                                        <field name="shortdesc"/>
                                        <field name="state"/>
                                        <field name="current_rev"/>
                                        <field name="onserver_rev"/>
                                        <!--<button name="button_install"
                                                confirm="Do you really want to install this addon?" class="oe_highlight"
                                                context="{'from_tree_view':True}" string="Install" type="object"
                                                icon="fa-download" states="uninstalled,to_install,to_uninstall"/>
                                        <button name="button_upgrade"
                                                confirm="Do you really want to upgrade this addon?" class="oe_highlight"
                                                context="{'from_tree_view':True}" string="Upgrade" type="object"
                                                icon="fa-refresh" states="installed,to_upgrade"/>
                                        <button name="button_uninstall"
                                                confirm="Do you really want to uninstall this addon?"
                                                class="oe_highlight" context="{'from_tree_view':True}"
                                                string="Uninstall" type="object" icon="fa-close"
                                                states="installed,to_uninstall"/>
                                        <button name="button_cancel_install"
                                                confirm="Do you really want to cancel the installation of this addon?"
                                                class="oe_highlight" context="{'from_tree_view':True}"
                                                string="Cancel install" type="object" icon="fa-close"
                                                states="to_install"/>
                                        <button name="button_cancel_upgrade"
                                                confirm="Do you really want to cancel the upgrade of this addon?"
                                                class="oe_highlight" context="{'from_tree_view':True}"
                                                string="Cancel upgrade" type="object" icon="fa-close"
                                                states="to_upgrade"/>
                                        <button name="button_cancel_uninstall"
                                                confirm="Do you really want to cancel the uninstalling of this addon?"
                                                class="oe_highlight" context="{'from_tree_view':True}"
                                                string="Cancel uninstall" type="object" icon="fa-close"
                                                states="to_uninstall"/>-->
                                    </tree>
                                    <kanban create="false">
                                        <!--<field name="icon"/>-->
                                        <field name="name"/>
                                        <field name="state"/>
                                        <!--<field name="summary"/>-->
                                        <templates>
                                            <t t-name="kanban-box">
                                                <div class="oe_module_vignette oe_kanban_global_click">
                                                    <!--<t t-set="installed" t-value="record.state.raw_value == 'installed'"/>-->
                                                    <!--<img t-attf-src="#{record.icon.value}" class="oe_module_icon"/>-->
                                                    <div class="oe_module_desc">
                                                        <h4>
                                                            <field name="shortdesc"/>
                                                        </h4>
                                                        <p class="oe_module_name">
                                                            <i>
                                                                <field name="name"/>
                                                            </i>
                                                        </p>
                                                        <button name="button_install"
                                                                context="{'from_kanban_view':True}" states="uninstalled"
                                                                type="object" class="btn pull-right btn-sm btn-primary">
                                                            Install
                                                        </button>
                                                        <button name="button_upgrade"
                                                                context="{'from_kanban_view':True}" states="installed"
                                                                type="object" class="btn pull-right btn-sm btn-primary">
                                                            Upgrade
                                                        </button>
                                                        <button name="button_uninstall"
                                                                context="{'from_kanban_view':True}" states="installed"
                                                                type="object" class="btn pull-right btn-sm btn-default">
                                                            Uninstall
                                                        </button>
                                                        <button name="button_uninstall_cancel"
                                                                context="{'from_kanban_view':True}" states="to remove"
                                                                type="object" class="btn pull-right btn-sm btn-default">
                                                            Cancel Uninstall
                                                        </button>
                                                        <button name="button_cancel_upgrade"
                                                                context="{'from_kanban_view':True}" states="to upgrade"
                                                                type="object" class="btn pull-right btn-sm btn-default">
                                                            Cancel Upgrade
                                                        </button>
                                                        <button name="button_cancel_install"
                                                                context="{'from_kanban_view':True}" states="to install"
                                                                type="object" class="btn pull-right btn-sm btn-default">
                                                            Cancel Install
                                                        </button>
                                                    </div>
                                                </div>
                                            </t>
                                        </templates>
                                    </kanban>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <!--<record id="database_search_view" model="ir.ui.view">
            <field name="name"></field>
            <field name="model"></field>
            <field name="arch" type="xml">
                <search string="">
                <field name="name" string="string" domain="[()]"/>
            </search>
           </field>
        </record>-->

        <!-- database tree -->
        <record model="ir.ui.view" id="database_tree_view">
            <field name="name">c1_project_dev.userdb.info.tree_view</field>
            <field name="model">c1_project_dev.userdb.info</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="login"/>
                    <field name="user_id"/>
                    <!--<field name="passwd" invisible="1" password="1"/>-->
                    <button type="object" name="button_goto" class="oe_highlight" icon="fa-log-in" string="Go to"/>
                </tree>
            </field>
        </record>

        <!-- project form -->
        <record model="ir.ui.view" id="project_form_view">
            <field name="name">ct_project.project.form_view</field>
            <field name="model">project.project</field>
            <field name="inherit_id" ref="project.edit_project"/>
            <field name="arch" type="xml">
                <field name="partner_id" position="after">
                    <field name="project_type"/>
                </field>
                <notebook position="inside">
                    <page string="Module transfer Settings"
                          groups="project.group_project_manager,c1_project_dev.ct_group_project_mamanger">
                        <h2>SVN repository</h2>
                        <newline/>
                        <!-- <field name="svn_path" nolabel="1"/> -->
                        <field name="repository_id" nolabel="1" widget="selection"/>
                        -
                        <field name="repository_url" nolabel="1"/>
                        <h2>Tester's list</h2>
                        <!--<newline/>
                        <field name="svn_user_ids" nolabel="1">
                            <tree editable="bottom">
                                <field name="name" readonly="1"/>
                                <field name="svn_account" readonly="1"/>
                                <field name="related_database"/>
                            </tree>
                        </field>-->
                    </page>
                    <!--<page string="Modules">
                        <field name="module_ids">
                            <tree>
                                <field name="name"/>
                                <field name="technical_name"/>
                                <field name="description"/>
                                <field name="active"/>
                            </tree>
                        </field>
                    </page>-->
                    <!--<page string="Task Stages" attrs="{'invisible': [('use_tasks', '=', False)]}" name="project_stages">-->
                    <page string="Task Stages" name="project_stages">
                        <field name="type_ids">
                            <tree>
                                <field name="name"/>
                                <field name="fold"/>
                                <!--<field name="is_initial"/>-->
                                <field name="description"/>
                                <field name="user_ids" widget="many2many_tags"/>
                                <field name="related_fields" widget="many2many_tags"/>
                            </tree>
                        </field>
                    </page>
                    <!--<page string="Issue Stages" attrs="{'invisible': [('use_issues', '=', False)]}" name="issue_stages">
                        <field name="issue_stage_ids">
                            <tree>
                                <field name="name"/>
                                <field name="fold"/>
                                <field name="description"/>
                                <field name="user_ids"/>
                                <field name="related_fields"/>
                            </tree>
                        </field>
                    </page>-->
                </notebook>
            </field>
        </record>


        <!-- task form -->
        <record model="ir.ui.view" id="task_kanban_view">
            <field name="name">ct_project.project.task.form_kanban_inherited</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.view_task_kanban"/>
            <field name="arch" type="xml">
                <xpath expr="//kanban" position="attributes">
                    <attribute name="quick_create">
                        0
                    </attribute>
                    <attribute name="on_create"/>
                </xpath>
            </field>
        </record>

        <!-- stage form -->
        <record model="ir.ui.view" id="stage_form_view">
            <field name="name">ct_project.project.task_type.form_view</field>
            <field name="model">project.task.type</field>
            <field name="inherit_id" ref="project.task_type_edit"/>
            <field name="arch" type="xml">
                <field name="fold" position="after">
                    <field name="is_initial"/>
                </field>
                <field name="project_ids" position="after">
                    <field name="user_ids" widget="many2many_tags"/>
                    <field name="related_fields" widget="many2many_tags"/>
                </field>
            </field>
        </record>


        <record id="path_form_view" model="ir.ui.view">
            <field name="name">c1_project_dev.users.path.form_view</field>
            <field name="model">c1_project_dev.users.path</field>
            <field name="arch" type="xml">
                <form string="">
                    <sheet>
                        <h1>
                            <field name="root"/>
                        </h1>
                        <group>
                            <field name="log_path"/>
                            <field name="addons_path"/>
                            <field name="user_id"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="path_tree_view" model="ir.ui.view">
            <field name="name">c1_project_dev.users.path.tree_view</field>
            <field name="model">c1_project_dev.users.path</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="root"/>
                    <field name="log_path"/>
                    <field name="addons_path"/>
                    <field name="user_id"/>
                </tree>
            </field>
        </record>


        <record id="server_form_view" model="ir.ui.view">
            <field name="name">c1_project_dev.server.form_view</field>
            <field name="model">c1_project_dev.server</field>
            <field name="arch" type="xml">
                <form string="">
                    <sheet>
                        <h1>
                            <field name="name"/>
                        </h1>
                        <group>
                            <field name="container_id"/>
                            <field name="root"/>
                            <field name="log_path"/>
                            <field name="addons_path"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="server_tree_view" model="ir.ui.view">
            <field name="name">c1_project_dev.server.tree_view</field>
            <field name="model">c1_project_dev.server</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="container_id"/>
                    <field name="root"/>
                    <field name="log_path"/>
                    <field name="addons_path"/>
                </tree>
            </field>
        </record>

        <!-- -->
        <record id="project.act_project_project_2_project_task_all"
                model="ir.actions.act_window">
            <field name="context">{
                'group_by': 'stage_id',
                'search_default_project_id': [active_id],
                'default_project_id':active_id,
                'from_ui':True}
            </field>
        </record>

        <!--<record id="project_issue.act_project_project_2_project_issue_all" model="ir.actions.act_window">
            <field name="context">{
                'search_default_project_id': [active_id],
                'default_project_id': active_id,
                'from_ui':True}
            </field>
        </record>-->

        <!--<record id="project_issue.project_issue_categ_act0" model="ir.actions.act_window">
            <field name="context">
                {'search_default_my_issues': 1, 'from_ui':True}
            </field>
        </record>-->

        <record id="path_management_action" model="ir.actions.act_window">
            <field name="name">Personal path management</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">c1_project_dev.users.path</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Create a new user personal path
                </p>
                <p>
                    <!-- More details about what a user can do with this object will be OK -->
                </p>
            </field>
        </record>

        <!-- repository action form -->
        <record id="action_repository_config" model="ir.actions.act_window">
            <field name="name">Repositories Management</field>
            <field name="res_model">c1_project_dev.repository</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- svn account actions -->
        <record id="action_svn_account_config" model="ir.actions.act_window">
            <field name="name">Svn accounts</field>
            <field name="res_model">c1_project_dev.svn_account</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- modules action -->
        <record id="action_modules_config" model="ir.actions.act_window">
            <field name="name">Modules</field>
            <field name="res_model">c1_project_dev.module</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- commands action -->
        <record id="action_commands_config" model="ir.actions.act_window">
            <field name="name">Commands</field>
            <field name="res_model">c1_project_dev.command</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- database action -->
        <record id="action_database_management" model="ir.actions.act_window">
            <field name="name">Database connections</field>
            <field name="res_model">c1_project_dev.userdb.info</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- docker container action -->
        <record id="action_docker_container_management" model="ir.actions.act_window">
            <field name="name">Docker container</field>
            <field name="res_model">c1_project_dev.docker.container</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- feedbacks action -->
        <record id="action_feedback_management" model="ir.actions.act_window">
            <field name="name">Feedbacks</field>
            <field name="res_model">project.task</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('type','=','feedback')]</field>
            <field name="context">{'display_project_name':True}</field>
        </record>

        <!-- production server container action -->
        <record id="action_production_server_management" model="ir.actions.act_window">
            <field name="name">Production Server Management</field>
            <field name="res_model">c1_project_dev.server</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- database wizard action -->
        <record id="action_database_management_tool" model="ir.actions.act_window">
            <field name="name">Database manager</field>
            <field name="res_model">c1_project_dev.database.wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <record id="action_log_viewer_tool" model="ir.actions.act_window">
            <field name="name">Odoo instance log viewer</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">c1_project_dev.log_viewer.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">inline</field>
        </record>

        <!-- cmd wizard action -->
        <record id="action_cmd_management_tool" model="ir.actions.act_window">
            <field name="name">Command wizard</field>
            <field name="res_model">c1_project_dev.linux_cmd.wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <!-- module install action -->
        <record id="action_module_install_tool" model="ir.actions.act_window">
            <field name="name">Module installation wizard</field>
            <field name="res_model">c1_project_dev.module.wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <!-- module python dependencies action -->
        <record id="action_module_python_dependencies_tool" model="ir.actions.act_window">
            <field name="name">Module python dependencies management wizard</field>
            <field name="res_model">c1_project_dev.module_dependencies.wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <!-- personal addon path explorer -->
        <record id="action_user_addons_path" model="ir.actions.act_window">
            <field name="name">Personal addons path manager</field>
            <field name="res_model">c1_project_dev.user_addons_path.wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">inline</field>
        </record>

        <!-- docker man explorer -->
        <record id="action_docker_manager_path" model="ir.actions.act_window">
            <field name="name">Docker monitor</field>
            <field name="res_model">c1_project_dev.docker_manager.wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">inline</field>
        </record>


        <!-- test wizard -->
        <record id="action_test_wizard" model="ir.actions.act_window">
            <field name="name">Test wizard</field>
            <field name="res_model">c1_project_dev.test_wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <record id="action_modules_filter" model="ir.actions.client">
            <field name="name">c1_project_dev.module_filter</field>
            <field name="tag">c1_project_dev.module_filter</field>
            <field name="target">new</field>
        </record>

        <record id="action_user_backups_explorer" model="ir.actions.client">
            <field name="name">c1_project_dev.user_backups_explorer</field>
            <field name="tag">c1_project_dev.user_backups_explorer</field>
            <field name="target">new</field>
        </record>

        <record id="action_search_import" model="ir.actions.client">
            <field name="name">c1_project_dev.search_import</field>
            <field name="tag">c1_project_dev.search_import</field>
            <field name="target">new</field>
        </record>



        <!-- menu -->
        <menuitem id="menu_feedback_management" action="action_feedback_management"
                  parent="project.menu_project_management" name="Feedbacks"/>

        <!-- test menu -->
        <menuitem id="test_feedback_management" action="action_search_import"
                  parent="project.menu_project_management" name="Search Filter"/>

        <!-- menu -->
        <menuitem id="menu_repository_config" action="action_repository_config"
                  parent="project.menu_project_config" name="Repositories Management"
                  groups="c1_project_dev.ct_group_project_mamanger,project.group_project_manager"/>

        <menuitem id="menu_production_server_config" action="action_production_server_management"
                  parent="project.menu_project_config" name="Production Server Management"
                  groups="c1_project_dev.ct_group_project_mamanger,project.group_project_manager"/>

        <!--<menuitem id="menu_svn_account_config" action="action_svn_account_config"-->
                  <!--parent="project.menu_project_config" name="Svn accounts"-->
                  <!--groups="c1_project_dev.ct_group_project_mamanger,project.group_project_manager"/>-->


        <!--<menuitem id="menu_module_config" action="action_modules_config"-->
                  <!--parent="project.menu_project_config" name="Modules"-->
                  <!--groups="c1_project_dev.ct_group_project_mamanger,project.group_project_manager"/>-->

        <menuitem id="menu_command_config" action="action_commands_config"
                  parent="project.menu_project_config" name="Commands"
                  groups="c1_project_dev.ct_group_project_mamanger,project.group_project_manager"/>

        <!-- This Menu Item must have a parent and an action -->
        <!--<menuitem id="menu_path_management" name="Users personal paths"
                  parent="project.menu_project_config" action="path_management_action"
                  groups="c1_project_dev.ct_group_project_mamanger,c1_project_dev.ct_group_testers,project.group_project_manager"/>-->

        <menuitem id="menu_tools"
                  parent="project.menu_main_pm" name="Tools"
                  groups="project.group_project_user"/>

        <menuitem id="menu_action_database_management_tool"
                  parent="c1_project_dev.menu_tools" name="Database management" action="action_database_management_tool"
                  groups="project.group_project_user"/>

        <menuitem id="menu_action_log_viewer_tool"
                  parent="c1_project_dev.menu_tools" name="Odoo Log viewer" action="action_log_viewer_tool"
                  groups="project.group_project_user"/>

        <!--<menuitem id="menu_test_wizard"
                          parent="c1_project_dev.menu_tools" name="Test Wizard" action="action_test_wizard"
                          groups="project.group_project_user"/>-->

        <!--<menuitem id="menu_action_cmd_management_tool"
                  parent="c1_project_dev.menu_tools" name="Terminal" action="action_cmd_management_tool"
                  groups="c1_project_dev.ct_group_project_mamanger,c1_project_dev.ct_group_testers,project.group_project_manager"/>

        <menuitem id="menu_action_cmd_management_tool"
                  parent="c1_project_dev.menu_tools" name="Terminal" action="action_cmd_management_tool"
                  groups="c1_project_dev.ct_group_project_mamanger,c1_project_dev.ct_group_testers,project.group_project_manager"/>-->

        <!--<menuitem id="menu_action_module_install_tool"
                  parent="c1_project_dev.menu_tools" name="Module installation" action="action_module_install_tool"
                  groups="project.group_project_user"/>-->

        <!--<menuitem id="menu_action_module_python_dependencies_tool"
                  parent="c1_project_dev.menu_tools" name="Python dependencies management"
                  action="action_module_python_dependencies_tool"
                  groups="project.group_project_user"/>-->

        <menuitem id="menu_action_user_addons_path"
                  parent="c1_project_dev.menu_tools" groups="project.group_project_user" name="Container module explorer" action="action_user_addons_path"/>

        <menuitem id="menu_action_user_backups_explorer"
                          parent="c1_project_dev.menu_tools" name="My Backups" groups="project.group_project_user" action="action_user_backups_explorer"/>
        <!--<menuitem id="menu_action_docker_manager_path"
                  parent="c1_project_dev.menu_tools" name="Docker instance viewer" action="action_docker_manager_path"
                  groups="c1_project_dev.ct_group_project_mamanger,c1_project_dev.ct_group_testers,project.group_project_manager"/>-->

        <menuitem id="menu_docker_container_config" action="action_docker_container_management"
                  parent="c1_project_dev.menu_tools" name="Docker containers"
                  groups="c1_project_dev.ct_group_project_mamanger,project.group_project_manager"/>

        <menuitem id="menu_databses_info" action="action_database_management"
                  parent="c1_project_dev.menu_tools" name="Database connections"
                  groups="project.group_project_user"/>

    </data>
</odoo>